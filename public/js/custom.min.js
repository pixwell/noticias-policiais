jQuery.noConflict(),function(t){var a=t("#main-menu");t("#toggle-menu a").click(function(e){e.preventDefault(),a.toggle("slow")});var r=t("#form-registro"),o=t("#nome-ocorrencia"),s=t("#cidade-ocorrencia"),n=t("#titulo-ocorrencia"),i=t("#texto-ocorrencia"),l=t("#status-envio-ocorrencia");function u(e,a){return e.css({border:"1px solid red",color:"red"}).attr("placeholder",a),e.focus(function(){t(this).removeAttr("style").removeAttr("placeholder")}),!1}r.submit(function(e){e.preventDefault();var a={author:o.val(),categories_id:s.val(),title:n.val(),content:i.val()};if(a.author?a.categories_id?a.title?a.content||u(i,"Insira o texto da sua ocorrência."):u(n,"Insira um título para a sua ocorrência."):u(s,"Escolha a sua cidade."):u(o,"Insira seu nome."),!(o.val()&&s.val()&&n.val()&&i.val()))return!1;t.ajax({url:"/store-ocorrencia",type:"POST",data:a,beforeSend:function(){l.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){l.empty().hide().html(e).slideDown(),r.get(0).reset()},error:function(e){l.empty().html(e)}})});var c=t("#form-login"),v=t("#login"),d=t("#password"),p=t("#status-login");c.submit(function(e){e.preventDefault();var a={login:v.val(),password:d.val()};if(a.login?a.password||u(d,"Insira a sua senha."):u(v,"Insira seu login."),!v.val()||!d.val())return!1;t.ajax({url:"/auth",type:"POST",data:a,beforeSend:function(){p.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){p.empty().hide(),c.get(0).reset();var a=JSON.parse(e);a.status&&(window.location.href=a.redirect)},error:function(e){JSON.parse(e);p.empty().html('<div class="status-fail">Erro ao fazer login.</div>')}})});var m=t("#form-create-user"),f=(o=t("#nome"),v=t("#login"),t("#pass1")),g=t("#pass2"),h=t("#status-user");m.submit(function(e){e.preventDefault();var a={name:o.val(),login:v.val(),password:f.val()};if(a.name?a.login?f.val()?g.val()||u(g,""):u(f,""):u(v,"Insira um Login"):u(o,"Insira seu nome"),f.val()&&g.val()){if(f.val()!==g.val())return h.empty().hide().html('<p class="status-fail">As senhas <strong>NÃO</strong> combinam. Por favor, corrija para prosseguir.</p>').slideDown(),!1;a.password=f.val(),h.slideDown("slow",function(){t(this).empty()})}if(!(v.val()&&f.val()&&g.val()))return!1;t.ajax({url:"/store-user",type:"POST",data:a,beforeSend:function(){h.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){var a=JSON.parse(e);h.empty().hide().html(a.mensagem).slideDown(),a.status&&m.get(0).reset()},error:function(){h.empty().html('<div class="status-fail">Erro ao fazer login.</div>')}})})}(jQuery);