jQuery.noConflict(),function(t){var a=t("#main-menu");t("#toggle-menu a").click(function(e){e.preventDefault(),a.toggle("slow")});var o=t("#form-registro"),r=t("#nome-ocorrencia"),s=t("#cidade-ocorrencia"),n=t("#titulo-ocorrencia"),i=t("#texto-ocorrencia"),l=t("#status-envio-ocorrencia");function u(e,a){return e.css({border:"1px solid red",color:"red"}).attr("placeholder",a),e.focus(function(){t(this).removeAttr("style").removeAttr("placeholder")}),!1}o.submit(function(e){e.preventDefault();var a={author:r.val(),categories_id:s.val(),title:n.val(),content:i.val()};if(a.author?a.categories_id?a.title?a.content||u(i,"Insira o texto da sua ocorrência."):u(n,"Insira um título para a sua ocorrência."):u(s,"Escolha a sua cidade."):u(r,"Insira seu nome."),!(r.val()&&s.val()&&n.val()&&i.val()))return!1;t.ajax({url:"/store-ocorrencia",type:"POST",data:a,beforeSend:function(){l.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){l.empty().hide().html(e).slideDown(),o.get(0).reset()},error:function(e){l.empty().html(e)}})});var c=t("#form-login"),d=t("#login"),v=t("#password"),m=t("#status-login");c.submit(function(e){e.preventDefault();var a={login:d.val(),password:v.val()};if(a.login?a.password||u(v,"Insira a sua senha."):u(d,"Insira seu login."),!d.val()||!v.val())return!1;t.ajax({url:"/auth",type:"POST",data:a,beforeSend:function(){m.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){m.empty().hide();var a=JSON.parse(e);a.status?(c.get(0).reset(),window.location.href=a.redirect):m.empty().hide().html(a.mensagem).slideDown()},error:function(){m.empty().hide().html('<div class="status-fail">Erro ao fazer login.</div>').slideDown()}})});var p=t("#form-create-user"),f=(r=t("#nome"),d=t("#login"),t("#pass1")),g=t("#pass2"),h=t("#status-user");p.submit(function(e){e.preventDefault();var a={name:r.val(),login:d.val(),password:f.val()};if(a.name?a.login?f.val()?g.val()||u(g,""):u(f,""):u(d,"Insira um Login"):u(r,"Insira seu nome"),f.val()&&g.val()){if(f.val()!==g.val())return h.empty().hide().html('<p class="status-fail">As senhas <strong>NÃO</strong> combinam. Por favor, corrija para prosseguir.</p>').slideDown(),!1;a.password=f.val(),h.slideDown("slow",function(){t(this).empty()})}if(!(d.val()&&f.val()&&g.val()))return!1;t.ajax({url:"/store-user",type:"POST",data:a,beforeSend:function(){h.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){var a=JSON.parse(e);h.empty().hide().html(a.mensagem).slideDown(),a.status&&p.get(0).reset()},error:function(){h.empty().html('<div class="status-fail">Erro ao fazer login.</div>')}})})}(jQuery);