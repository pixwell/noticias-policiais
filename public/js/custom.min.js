jQuery.noConflict(),function(t){var a=t("#main-menu");t("#toggle-menu a").click(function(e){e.preventDefault(),a.toggle("slow")});var o=t("#form-registro"),r=t("#nome-ocorrencia"),s=t("#cidade-ocorrencia"),n=t("#titulo-ocorrencia"),i=t("#texto-ocorrencia"),l=t("#status-envio-ocorrencia");function c(e,a){return e.css({border:"1px solid red",color:"red"}).attr("placeholder",a),e.focus(function(){t(this).removeAttr("style").removeAttr("placeholder")}),!1}o.submit(function(e){e.preventDefault();var a={author:r.val(),categories_id:s.val(),title:n.val(),content:i.val()};if(a.author?a.categories_id?a.title?a.content||c(i,"Insira o texto da sua ocorrência."):c(n,"Insira um título para a sua ocorrência."):c(s,"Escolha a sua cidade."):c(r,"Insira seu nome."),!(r.val()&&s.val()&&n.val()&&i.val()))return!1;t.ajax({url:"/store-ocorrencia",type:"POST",data:a,beforeSend:function(){l.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){l.empty().hide().html(e).slideDown(),o.get(0).reset()},error:function(e){l.empty().html(e)}})});var u=t("#form-login"),v=t("#login"),d=t("#password"),p=t("#status-login");u.submit(function(e){e.preventDefault();var a={login:v.val(),password:d.val()};if(a.login?a.password||c(d,"Insira a sua senha."):c(v,"Insira seu login."),!v.val()||!d.val())return!1;t.ajax({url:"/auth",type:"POST",data:a,beforeSend:function(){p.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){p.empty().hide(),u.get(0).reset();var a=JSON.parse(e);a.status&&(window.location.href=a.redirect)},error:function(e){JSON.parse(e);p.empty().html('<div class="status-fail">Erro ao fazer login.</div>')}})});var f=t("#form-create-user"),m=(r=t("#nome"),v=t("#login"),t("#pass1")),g=t("#pass2"),h=t("#status-user");f.submit(function(e){e.preventDefault();var a={name:r.val(),login:v.val(),password:m.val()};if(a.name?a.login?m.val()?g.val()||c(g,""):c(m,""):c(v,"Insira um Login"):c(r,"Insira seu nome"),m.val()&&g.val()){if(m.val()!==g.val())return h.empty().hide().html('<p class="status-fail">As senhas <strong>NÃO</strong> combinam. Por favor, corrija para prosseguir.</p>').slideDown(),!1;a.password=m.val(),h.slideDown("slow",function(){t(this).empty()})}if(!(v.val()&&m.val()&&g.val()))return!1;t.ajax({url:"/store-user",type:"POST",data:a,beforeSend:function(){h.empty().hide().html('<p class="status-processing">Enviando ...</p>').slideDown()},success:function(e){h.empty().hide().html(e).slideDown(),f.get(0).reset()},error:function(){h.empty().html('<div class="status-fail">Erro ao fazer login.</div>')}})})}(jQuery);